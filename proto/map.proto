syntax = "proto3";

package map;

import "google/protobuf/empty.proto";
import "geo.proto";

option go_package = "github.com/PritOriginal/problem-map-server/proto;pb";

service Map {
  rpc GetRegions(google.protobuf.Empty) returns (GetRegionsResponse);
  rpc GetCities(google.protobuf.Empty) returns (GetCitiesResponse);
  rpc GetDistricts(google.protobuf.Empty) returns (GetDistrictsResponse);
}

message Region {
  int64 id = 1;
  string name = 2;
  geo.Polygon geom = 3;
}

message City {
  int64 id = 1;
  string name = 2;
  int64 region_id = 3;
  geo.Polygon geom = 4;
}

message District {
  int64 id = 1;
  string name = 2;
  int64 city_id = 3;
  geo.Polygon geom = 4;
}

message GetRegionsResponse { repeated Region regions = 1; }

message GetCitiesResponse { repeated City cities = 1; }

message GetDistrictsResponse { repeated District districts = 1; }